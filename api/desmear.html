<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Desmearing &mdash; jldesmear 2014.03.13 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2014.03.13',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="jldesmear 2014.03.13 documentation" href="../index.html" />
    <link rel="up" title="Command-line program for Jemian/Lake desmearing" href="traditional.html" />
    <link rel="next" title="Forward Smearing" href="smear.html" />
    <link rel="prev" title="Desmearing parameters, the Info object" href="info.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="smear.html" title="Forward Smearing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="info.html" title="Desmearing parameters, the Info object"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">jldesmear 2014.03.13 documentation</a> &raquo;</li>
          <li><a href="../contents.html" >Contents</a> &raquo;</li>
          <li><a href="traditional.html" accesskey="U">Command-line program for Jemian/Lake desmearing</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Desmearing</a><ul>
<li><a class="reference internal" href="#source-code-documentation">Source Code Documentation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="info.html"
                        title="previous chapter">Desmearing parameters, the <tt class="docutils literal"><span class="pre">Info</span></tt> object</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="smear.html"
                        title="next chapter">Forward Smearing</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/api/desmear.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="desmearing">
<h1>Desmearing<a class="headerlink" href="#desmearing" title="Permalink to this headline">¶</a></h1>
<p>Desmear the 1-D SAS data <em>(q, I, dI)</em> by method of Lake &amp; Jemian.</p>
<span class="target" id="module-jldesmear.api.desmear"></span><p>Desmear SAS data</p>
<p>To desmear, apply the method of Jemian/Lake to 1-D SAS data <em>(q, I, dI)</em>.</p>
<div class="section" id="source-code-documentation">
<h2>Source Code Documentation<a class="headerlink" href="#source-code-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="jldesmear.api.desmear.Desmearing">
<em class="property">class </em><tt class="descclassname">jldesmear.api.desmear.</tt><tt class="descname">Desmearing</tt><big>(</big><em>q</em>, <em>I</em>, <em>dI</em>, <em>params</em><big>)</big><a class="reference internal" href="../_modules/jldesmear/api/desmear.html#Desmearing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jldesmear.api.desmear.Desmearing" title="Permalink to this definition">¶</a></dt>
<dd><p>desmear the 1-D SAS data <em>(q, I, dI)</em> by method of Jemian/Lake</p>
<img src="../_images\mathmpl/math-0e345ab34b.png" class="center" /><p>To start Lake&#8217;s method, assume that the 0-th approximation 
of the corrected intensity is the measured intensity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>q</strong> (<em>numpy.ndarray</em>) &#8211; magnitude of scattering vector</li>
<li><strong>I</strong> (<em>numpy.ndarray</em>) &#8211; SAS data I(q) +/- dI(q)</li>
<li><strong>dI</strong> (<em>numpy.ndarray</em>) &#8211; estimated uncertainties of I(q)</li>
<li><strong>params</strong> (<em>obj</em>) &#8211; Info object with desmearing parameters</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This equation shows the iterative feedback based 
on the <em>fast</em> method (as described by Lake).
Alternative feedback methods are available
(see <a class="reference internal" href="#jldesmear.api.desmear.Desmearing.SetLakeWeighting" title="jldesmear.api.desmear.Desmearing.SetLakeWeighting"><tt class="xref py py-func docutils literal"><span class="pre">SetLakeWeighting()</span></tt></a>).
It is suggested to <strong>always</strong> use the fast method.</p>
</div>
<dl class="method">
<dt id="jldesmear.api.desmear.Desmearing.SetExtrap">
<tt class="descname">SetExtrap</tt><big>(</big><em>extrapolation_object=None</em><big>)</big><a class="reference internal" href="../_modules/jldesmear/api/desmear.html#Desmearing.SetExtrap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jldesmear.api.desmear.Desmearing.SetExtrap" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>extrapolation_object</strong> (<em>obj</em>) &#8211; class used for extrapolation function</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="jldesmear.api.desmear.Desmearing.SetLakeWeighting">
<tt class="descname">SetLakeWeighting</tt><big>(</big><em>LakeWeighting='fast'</em><big>)</big><a class="reference internal" href="../_modules/jldesmear/api/desmear.html#Desmearing.SetLakeWeighting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jldesmear.api.desmear.Desmearing.SetLakeWeighting" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>LakeWeighting</strong> (<em>str</em>) &#8211; one of <em>constant</em>, <em>ChiSqr</em>, or <em>fast</em></td>
</tr>
<tr class="field-even field"><th class="field-name">Constant:</th><td class="field-body">weight = 1.0</td>
</tr>
<tr class="field-odd field"><th class="field-name">ChiSqr:</th><td class="field-body">weight = CorrectedI / SmearedI</td>
</tr>
<tr class="field-even field"><th class="field-name">Fast:</th><td class="field-body">weight = 2*SQRT(ChiSqr(0) / ChiSqr(i))</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="jldesmear.api.desmear.Desmearing.SetQuiet">
<tt class="descname">SetQuiet</tt><big>(</big><em>suppress_output=True</em><big>)</big><a class="reference internal" href="../_modules/jldesmear/api/desmear.html#Desmearing.SetQuiet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jldesmear.api.desmear.Desmearing.SetQuiet" title="Permalink to this definition">¶</a></dt>
<dd><p>if True, then no printed output from this routine</p>
</dd></dl>

<dl class="method">
<dt id="jldesmear.api.desmear.Desmearing.first_step">
<tt class="descname">first_step</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/jldesmear/api/desmear.html#Desmearing.first_step"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jldesmear.api.desmear.Desmearing.first_step" title="Permalink to this definition">¶</a></dt>
<dd><p>the first step</p>
<p>calculate the standardized residuals (<img src="../_images\mathmpl/math-53fa883457.png" style="position: relative; bottom: -3px"/> <tt class="docutils literal"><span class="pre">self.z</span></tt> )</p>
<img src="../_images\mathmpl/math-bd58d40112.png" class="center" /><p>where <tt class="docutils literal"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">S</span></tt>, <tt class="docutils literal"><span class="pre">yHat</span> <span class="pre">=</span> <span class="pre">I</span></tt>, and <tt class="docutils literal"><span class="pre">sigma</span> <span class="pre">=</span> <span class="pre">dI</span></tt></p>
<p>calculate the chi-squared statistic (<img src="../_images\mathmpl/math-1b5f375f6d.png" style="position: relative; bottom: -7px"/> <tt class="docutils literal"><span class="pre">self.ChiSqr</span></tt> )</p>
<img src="../_images\mathmpl/math-b3d0022f56.png" class="center" /></dd></dl>

<dl class="method">
<dt id="jldesmear.api.desmear.Desmearing.iterate_and_callback">
<tt class="descname">iterate_and_callback</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/jldesmear/api/desmear.html#Desmearing.iterate_and_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jldesmear.api.desmear.Desmearing.iterate_and_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute one iteration of the Lake algorithm
and then call the supplied callback method.
Use this method to run a desmearing operation in another thread.</p>
</dd></dl>

<dl class="method">
<dt id="jldesmear.api.desmear.Desmearing.iteration">
<tt class="descname">iteration</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/jldesmear/api/desmear.html#Desmearing.iteration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jldesmear.api.desmear.Desmearing.iteration" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute one iteration of the Lake algorithm.</p>
<p>No need to call the callback routine, 
the caller can take care of that directly.</p>
</dd></dl>

<dl class="method">
<dt id="jldesmear.api.desmear.Desmearing.traditional">
<tt class="descname">traditional</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/jldesmear/api/desmear.html#Desmearing.traditional"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jldesmear.api.desmear.Desmearing.traditional" title="Permalink to this definition">¶</a></dt>
<dd><p>the traditional LAKE code algorithm</p>
<p>This method is called from the class constructor.  
If this method is called directly, it has the effect 
of clearing any desmearing progress and resetting 
back to start.  This technique is used here if
the list of ChiSqr results is not empty.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="smear.html" title="Forward Smearing"
             >next</a> |</li>
        <li class="right" >
          <a href="info.html" title="Desmearing parameters, the Info object"
             >previous</a> |</li>
        <li><a href="../index.html">jldesmear 2014.03.13 documentation</a> &raquo;</li>
          <li><a href="../contents.html" >Contents</a> &raquo;</li>
          <li><a href="traditional.html" >Command-line program for Jemian/Lake desmearing</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013-2014, Pete R Jemian.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>